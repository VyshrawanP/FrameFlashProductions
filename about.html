<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>About — FrameFlash Productions</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root {
  --bg:#0a0a0a;
  --fg:#f5f5f5;
  --muted:#9a9a9a;
  --ease:cubic-bezier(0.19,1,0.22,1);
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  background:var(--bg);
  color:var(--fg);
  font-family:Inter,sans-serif;
  line-height:1.6;
  overflow-x:hidden;
}

a{color:inherit;text-decoration:none}

/* ===== HEADER ===== */
header{
  position:fixed;
  top:0;
  width:100%;
  padding:22px 64px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  backdrop-filter:blur(10px);
  z-index:50;
}

.brand img{width:70px;height:70px}

.desktop-nav a{
  margin-left:32px;
  font-size:.9rem;
  color:var(--muted);
}
.desktop-nav a:hover{color:var(--fg)}

.menu-btn{
  display:none;
  background:none;
  border:none;
  font-size:1.6rem;
  color:var(--fg);
  cursor:pointer;
}

/* ===== MOBILE MENU ===== */
.mobile-menu{
  position:fixed;
  top:0;right:0;
  width:70%;max-width:300px;
  height:100vh;
  background:#111;
  padding:100px 40px;
  display:flex;
  flex-direction:column;
  gap:30px;
  transform:translateX(100%);
  transition:transform .6s var(--ease);
  z-index:200;
}
.mobile-menu.open{transform:translateX(0)}

.menu-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  opacity:0;
  pointer-events:none;
  transition:opacity .4s var(--ease);
  z-index:150;
}
.menu-overlay.show{
  opacity:1;
  pointer-events:all;
}

/* ===== HERO ===== */
.hero{
  padding-top:140px;
  padding-bottom:120px;
  text-align:center;
  max-width:900px;
  margin:auto;
  padding-inline:20px;
}
.hero h1{
  font-size:clamp(2rem,4vw,3.5rem);
  font-weight:500;
  margin-bottom:24px;
}
.hero p{color:var(--muted)}

.banner{
  margin-top:80px;
}
.banner img{
  width:100%;
  border-radius:10px;
  opacity:.9;
}

/* ===== TEAM ===== */
.team{
  padding:120px 80px;
  max-width:1200px;
  margin:auto;
}

.member{
  display:grid;
  grid-template-columns:220px 1fr;
  gap:60px;
  margin-bottom:120px;
  opacity:0;
  transform:translateY(80px);
  visibility:hidden;
  transition:opacity .8s var(--ease),
             transform .8s var(--ease),
             visibility 0s linear .8s;
}
.member.visible{
  opacity:1;
  transform:translateY(0);
  visibility:visible;
}

.member img{
  width:200px;
  height:175px;
  border-radius:8px;
  object-fit:cover;
}
.member b{display:block;margin-bottom:12px;font-weight:500}
.member p{color:var(--muted);max-width:600px}

/* ===== LOADER (LOCAL) ===== */
.team-loader{
  display:flex;
  justify-content:center;
  padding:80px 0;
}
.spinner{
  width:42px;height:42px;
  border:4px solid rgba(255,255,255,.15);
  border-top-color:#fff;
  border-radius:50%;
  animation:spin .8s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== FOOTER ===== */
footer{
  text-align:center;
  padding:60px 20px;
  color:var(--muted);
  font-size:.85rem;
}

/* ===== RESPONSIVE ===== */
@media(max-width:900px){
  header{padding:20px 30px}
  .desktop-nav{display:none}
  .menu-btn{display:block}
  .team{padding:100px 30px}
  .member{grid-template-columns:1fr;gap:30px}
}
</style>
</head>

<body>

<header>
  <div class="brand">
    <img src="/logos/fflogo.png" alt="FrameFlash">
  </div>

  <nav class="desktop-nav">
    <a href="/index.html">Home</a>
    <a href="/project.html">Projects</a>
    <a href="/about.html">About</a>
    <a href="/contact.html">Contact</a>
    <a href="/privacypolicy.html">Privacy</a>
  </nav>

  <button class="menu-btn">☰</button>

  <div class="mobile-menu">
    <a href="/index.html">Home</a>
    <a href="/project.html">Projects</a>
    <a href="/about.html">About</a>
    <a href="/contact.html">Contact</a>
    <a href="/privacypolicy.html">Privacy</a>
  </div>
  <div class="menu-overlay"></div>
</header>

<main>

<section class="hero">
  <h1>About Us</h1>
  <p>
    FrameFlash Productions is built by people who share the same love for cinema.
    Each of us brings something different — storytelling, visuals, music, design —
    shaping work that stays with people.
  </p>

  <div class="banner">
    <img src="/logos/banner1.png" alt="FrameFlash Banner">
  </div>
</section>

<section class="team" id="team">
  <div id="team-loader" class="team-loader">
    <div class="spinner"></div>
  </div>
</section>

</main>

<footer>
© 2025 FrameFlash Productions · Where Ideas Become Motion
</footer>

<script>
/* ===== MOBILE MENU ===== */
const menuBtn=document.querySelector(".menu-btn");
const mobileMenu=document.querySelector(".mobile-menu");
const overlay=document.querySelector(".menu-overlay");

menuBtn.onclick=()=>{
  mobileMenu.classList.add("open");
  overlay.classList.add("show");
};
overlay.onclick=()=>{
  mobileMenu.classList.remove("open");
  overlay.classList.remove("show");
};
document.querySelectorAll(".mobile-menu a").forEach(a=>{
  a.onclick=()=>overlay.click();
});

/* ===== OBSERVER ===== */
const observer=new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      e.target.classList.add("visible");
      observer.unobserve(e.target);
    }
  });
},{threshold:.25,rootMargin:"0px 0px -100px 0px"});

/* ===== LOAD TEAM ===== */
async function loadTeam(){
  const loader=document.getElementById("team-loader");
  const container=document.getElementById("team");

  try{
    const cfg=await fetch("/.netlify/functions/config").then(r=>r.json());
    const res=await fetch(
      `${cfg.SUPABASE_URL}/rest/v1/About%20Us?select=name,role,about,instagram,image`,
      {
        headers:{
          apikey:cfg.SUPABASE_ANON_KEY,
          Authorization:`Bearer ${cfg.SUPABASE_ANON_KEY}`
        }
      }
    );

    const data=await res.json();
    loader.remove();

    if(!Array.isArray(data)||!data.length){
      container.insertAdjacentHTML("beforeend","<p>No team data.</p>");
      return;
    }

    data.forEach(m=>{
      const div=document.createElement("div");
      div.className="member";
      div.innerHTML=`
        <img src="${m.image}" alt="${m.name}">
        <p>
          <b>${m.name} — ${m.role}</b>
          ${m.about||""}
          ${m.instagram?`<br><a href="${m.instagram}" target="_blank">Instagram</a>`:""}
        </p>
      `;
      container.appendChild(div);
      observer.observe(div);
    });

  }catch(err){
    console.error(err);
    loader.innerHTML="<p>Failed to load team.</p>";
  }
}

loadTeam();
</script>

</body>
</html>
